## ì‚¬ë‹¤ë¦¬ 3ë‹¨ê³„ v05

1. ([ì´ì „ì½”ë“œ](https://github.com/JeongHoonkr/Studying-Record/blob/master/Study/%EC%82%AC%EB%8B%A4%EB%A6%AC%EA%B2%8C%EC%9E%84%203%EB%8B%A8%EA%B3%84%20V04.md)) ë¦¬ë·°ë°›ì€ ë‚´ìš©

   - LadderGame ì¸ìŠ¤í„´ìŠ¤ë¡œ userInputsë¥¼ ë§Œë“¤ê³ , ResultView(userInputs)ì— ë„˜ê²¨ì„œ resultView ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì—ˆëŠ”ë°
     printFullLadder()ì— ë˜ ë§¤ê°œë³€ìˆ˜ë¡œ userInputs ì†ì„±ì„ ë„˜ê¸°ë„¤ìš”.
     ìœ„ì— ë„˜ê¸´ userInputsì„ ì¬í™œìš©í•˜ê±°ë‚˜ ì•„ë˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìœ¼ë‹ˆ ìœ„ì— ì•ˆ ë„˜ê²¨ë„ ë  ê²ƒ ê°™ì€ë°... ë‘˜ ì¤‘ì— ì–´ë–¤ê±¸ ìˆ˜ì •í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œìš”?

     â€‹

2. ì•„ë˜ì²˜ëŸ¼ ê°œì„ í•˜ë ¤í–ˆìœ¼ë‚˜ ë¬¸ì œê°€ ìˆì—ˆìŒ

   ```swift
   let resultView = ResultView(LadderGame.init(inputValues: inputValues))
       resultView.printFullLadder(names: resultView.ladderGame.participant, height: resultView.ladderGame.height)
   ```

   <ìœ„ ë‚´ìš©ì— ëŒ€í•´ì„œ ë¦¬ë·°ë°›ì€ ë‚´ìš©>

   > resultViewì— ìˆëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ë° resultViewì— ìˆëŠ” ì†ì„±ê°’ì„ ë„˜ê¸°ë‹¤ë‹ˆìš”!! ğŸ˜´ ì—ì„œ ê¹¨ì–´ë‚˜ë¼!!

3. ê°œì„ ëœ ë‚´ìš©

   - userInputsë¥¼ ResultViewì—ì„œ ì¬ì‚¬ìš©í•˜ê²Œí•´ì„œ ì¶œë ¥ì‹œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚­ì œí–ˆì–´ìš”

```swift
//  main.swift
import Foundation

while (true) {
    let inputView = InputView()
    
    let inputValues = inputView.getUserInput()
    if inputValues.0.count == 0 || inputValues.1 == 0 {
        break
    }
    let userInputs = LadderGame(inputValues: inputValues)
    let resultView = ResultView(userInputs)
    resultView.printFullLadder()
}


//  InputView.swift
import Foundation

// ì…ë ¥ê°’ì„ ë°›ëŠ” êµ¬ì¡°ì²´
struct InputView {
       func getUserInput( ) -> (Array<String>, Int){
        var names = Array<String>()
        var heightOfLadder = Int()
        print("ì°¸ì—¬í•  ì‚¬ëŒì„ ì‰¼í‘œ(,)ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
        if let people = readLine() {
            names = people.split(separator: ",").map(String.init)
        }
        print("ì‚¬ë‹¤ë¦¬ ë†’ì´ëŠ” ëª‡ ê°œì¸ê°€ìš”?")
        if let ladder = readLine() {
            heightOfLadder = Int(ladder) ?? 0
        } 
        return (names, heightOfLadder)
    }
}

//  LadderGame.swift
import Foundation

// ì‚¬ë‹¤ë¦¬ ì†ì„±ê³¼ ì°¸ê°€ì ì •ë³´ë¥¼ ê°–ëŠ” êµ¬ì¡°ì²´
sstruct LadderGame {
    private (set) var participant = [LadderPlayer]()
    // heightì—ë„ privateë’¤ì— (set)ì„ ë¶™í˜€ì„œ ì½ëŠ” ê²ƒì€ internalí•˜ê²Œ ë³€ê²½
    private (set) var height = 0
    
    // ì°¸ê°€ì ì´ë¦„ê³¼ ì‚¬ë‹¤ë¦¬ ë†’ì´ë¥¼ ì´ˆê¸°í™”ë©”ì„œë“œë¥¼ í†µí•´ ì´ˆê¸°ê°’ ì‚½ì…
    init (inputValues: ([String], Int)) {
        for name in inputValues.0 {
            let player = LadderPlayer.init(name: name)
            participant.append(player)
        }
        self.height = inputValues.1
    }
    
    // 1. ëœë¤ ë¶ˆê°’ ìƒì„±
      func makeRandomBooleanValue () -> Bool {
        let randomNum = Int(arc4random_uniform(2))
        guard randomNum % 2 == 0 else { return false }
        return true
    }
    
    // 2. ëœë¤ ë¶ˆê°’ì˜ í•œì¤„ ë°°ì—´ ë§Œë“¤ê¸°
      func makeRandomInnerArray (_ countOfparticipants: Int) -> Array<Bool> {
        var firstArray = Array<Bool>()
        for _ in 0 ..< countOfparticipants-1{
            firstArray.append(makeRandomBooleanValue())
        }
        return firstArray
    }
    
    // 3. ëœë¤ ë¶ˆê°’ì˜ 2ì°¨ì› ë°°ì—´ ë§Œë“¤ê¸°
      func makeTwoDimentionalArray (_ height: Int) -> Array<Array<Bool>> {
        var twoDimenArray = Array<Array<Bool>>()
        for _ in 0 ..< height {
            twoDimenArray.append(makeRandomInnerArray(height))
        }
        return twoDimenArray
    }
}

//  LadderPlayer.swift
import Foundation

// í”Œë ˆì´ì–´ êµ¬ì¡°ì²´
struct LadderPlayer {
    // private (set) ê°’ì„ ë°”ê¾¸ëŠ” ê²ƒë§Œ privateìœ¼ë¡œ ì„ ì–¸
    private (set) var name: String
}

//  ResultView.swift
import Foundation
// ì‚¬ë‹¤ë¦¬ë¥¼ ì¶œë ¥í•˜ëŠ” êµ¬ì¡°ì²´
struct ResultView {
    private enum LadderElements: String {
        case verticalLine = "-----"
        case horizontalLine = "|"
        case whiteSpace = "     "
    }
   
    // 0. LadderGameì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    private let ladderGame : LadderGame
    init (_ ladderGame: LadderGame) {
        self.ladderGame = ladderGame
    }
    
    // 1. ë¶ˆê°’ì„ ì‚¬ë‹¤ë¦¬ìš”ì†Œë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
    private func transferBooltoString(hasLadder: Bool) -> String{
        return hasLadder ? LadderElements.verticalLine.rawValue : LadderElements.whiteSpace.rawValue
    }
    
    // 2. ëœë¤ë¶ˆê°’ ë°°ì—´ì„ ë¦¬ì–¼ ì‚¬ë‹¤ë¦¬ë¡œ ë°”ê¾¸ê¸°
    private func printLadder ()  {
        let player = ladderGame.participant
        let height = ladderGame.height
        var inputArray = ladderGame.makeTwoDimentionalArray(height)
        for outer in 0 ..< height {
            for inner in 0 ..< player.count-1 {
                let ladderString = transferBooltoString(hasLadder: inputArray[outer][inner])
                print("|\(ladderString)", terminator: "")
            }
            print("|")
        }
    }
    
    // 3. ì°¸ê°€ì ì´ë¦„ì„ ì¶œë ¥í•˜ëŠ” ë©”ì†Œë“œ
    private func printNames () {
        let player = ladderGame.participant
        for name in 0 ..< player.count {
            print(player[name].name, terminator: " ")
        }
        print ()
    }
    
    // 4. ì¶œë ¥ê¸°ëŠ¥ë§Œ ë‹´ë‹¹í•˜ëŠ” í•¨ìˆ˜ (ì‚¬ë‹¤ë¦¬ì™€ ì°¸ê°€ìë¥¼ ì¶œë ¥)
     func printFullLadder (){
        printLadder()
        printNames()
    }
}
```

